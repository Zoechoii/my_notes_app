<!DOCTYPE html>
<html>
<head>
    <title>Notes - list</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <h1>ğŸ“š My notes</h1>
    
    <!-- ìƒˆ ë…¸íŠ¸ ë²„íŠ¼ -->
    <div class="top-actions">
        <a href="/notes/create" class="btn btn-primary">â• Create new note</a>
        <a href="/notes/search" class="btn"> ğŸ” Search</a>
        <a href="/" class="btn"> ğŸ  Home</a>
    </div>
    
    <div class="notes-list">
        <!-- ë…¸íŠ¸ê°€ ì—†ì„ ë•Œ -->
        <% if (notes.length === 0) { %>
            <p class="no-notes">Create your first noteâœ¨</p>
        
        <!-- ë…¸íŠ¸ê°€ ìˆì„ ë•Œ = ë°˜ë³µë¬¸ìœ¼ë¡œ ê° ë…¸íŠ¸ ë³´ì—¬ì£¼ê¸° -->
        <% } else { %>
            <% notes.forEach(function(note) { %>
                <div class="note-card">
                    <!-- ë…¸íŠ¸ ì œëª© (í´ë¦­í•˜ë©´ ìì„¸íˆ ë³´ê¸°) -->
                    <h3>
                        <a href="/notes/view/<%= note.id %>">
                            <%= note.title %>
                        </a>
                    </h3>
                    
                    <!-- ë‚´ìš© ë¯¸ë¦¬ë³´ê¸° (ì²˜ìŒ 100ê¸€ìë§Œ) -->
                    <p class="preview">
                        <%= note.content.substring(0, 100) %>
                        <% if (note.content.length > 100) { %>...more<% } %>
                    </p>
                    
                    <!-- ë‚ ì§œ ì •ë³´ -->
                    <small class="date">
                        ë§ˆì§€ë§‰ ìˆ˜ì •: <%= new Date(note.updated_at).toLocaleString('ko-KR') %>
                    </small>
                    
                    <!-- ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
                    <div class="actions">
                        <a href="/notes/view/<%= note.id %>" class="btn-small">See</a>
                        <a href="/notes/edit/<%= note.id %>" class="btn-small">Fix</a>
                        <a href="/notes/delete/<%= note.id %>" 
                           class="btn-small btn-danger"
                           onclick="return confirm('Are you sure to delete this note?')">
                            ğŸ—‘ï¸ Delete
                        </a>
                    </div>
                </div>
            <% }); %>
        <% } %>
    </div>
</body>
</html>